<!--å…¨å±€è¯„è®º-->
<template>
  <ParentLayout>
    <template #page-bottom>
<!--      <Valine></Valine>-->
      <CommentService :darkmode="isDarkMode" />
      <!--   å¤‡æ¡ˆæ ‡æ³¨   -->
      <div style="width:300px;margin:0 auto; padding:20px 0; position: relative;text-align: center; color: #8b949e; font-size: 12px" data-v-99bcade8="" class="copyright">
        <a target="_blank"  data-v-99bcade8="" href="https://beian.miit.gov.cn/#/Integrated/index">
          <p style="height:20px;line-height:20px;margin: 0 0 0 5px; color:#939393;">
            çš–ICPå¤‡2023014487å·-1
          </p>
        </a>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34010402704001" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
          <img src="/img/å¤‡æ¡ˆå›¾æ ‡.png" style="float:left;" alt=""/>
          <p style="float:left;height:20px;line-height:20px;margin: 0 0 0 5px; color:#939393;">
            çš–å…¬ç½‘å®‰å¤‡ 34010402704001å·
          </p>
        </a><br>
        Copyright Â© 2023-2033 <a href="http://lingdu.love">ã€‡Â°</a>
        <br>
        <a ref="fqElement" id="fq"></a>
      </div>
    </template>
  </ParentLayout>
</template>
<script setup lang="ts">
import {onUnmounted, onMounted, ref} from "vue";
import ParentLayout from "@vuepress/theme-default/lib/client/layouts/Layout.vue";

const isDarkMode = ref(false);
const fqElement = ref<HTMLElement | null>(null);

onMounted(() => {
  const html = document.documentElement;
  // åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨æ‰èƒ½æ­£å¸¸ä½¿ç”¨document
  setTimeout(resize, 0);
  isDarkMode.value = html.classList.contains("dark");

  // watch theme change
  const observer = new MutationObserver(() => {
    isDarkMode.value = html.classList.contains("dark");
  });

  observer.observe(html, {
    attributeFilter: ["class"],
    attributes: true,
  });

  onUnmounted(() => {
    observer.disconnect();
  });

  lingdu();

});

// å¼•ç”¨å…¨å±€js
import resize from "../public/js/gonggao.js";


function lingdu(){
  const iYear = parseInt('2024');
  const iMonth = parseInt('10');
  const iDay = parseInt('5');
  const iHour = parseInt('10');
  const iMinute = parseInt('7');
  const iSecond = parseInt('39');
  //è®¾è®¡ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œ1ç§’é’Ÿè¿è¡Œä¸€æ¬¡
  const timer = setInterval(function () {
    const now = new Date();//ç°åœ¨æ—¶é—´ï¼Œè·å–æ—¶é—´æˆ³
    //ä»¥å‰çš„æ—¶é—´ï¼ˆä»¥å‰çš„æ—¶é—´æˆ³ï¼‰
    const ago = new Date(iYear, iMonth - 1, iDay, iHour, iMinute, iSecond);
    //è®¡ç®—æ—¶å·®
    const ms = now - ago;
    //è®¡ç®—å¤©æ•°
    var day = parseInt(String(ms / (24 * 60 * 60 * 1000)));
    //è®¡ç®—å°æ—¶
    var hours = parseInt(String(ms % (24 * 60 * 60 * 1000) / (60 * 60 * 1000)));
    //è®¡ç®—åˆ†é’Ÿ
    var min = parseInt(String(ms % (24 * 60 * 60 * 1000) % (60 * 60 * 1000) / (60 * 1000)));
    //è®¡ç®—ç§’
    var s = parseInt(String(ms % (24 * 60 * 60 * 1000) % (60 * 60 * 1000) % (60 * 1000) / 1000));
    // è®¡ç®—æ¯«ç§’
    const milliseconds = parseInt(ms % 1000);
    //æŠŠç»“æœååˆ°<h1></h1>é‡Œ
    // h1.innerHTML = 'æˆ‘ä»¬è®¤è¯†å·²ç»æœ‰' + day + 'å¤©' + hours + 'å°æ—¶' + min + 'åˆ†' + s + 'ç§’äº†';
    // æŠŠç»“æœååˆ° <a id="fq"></a> é‡Œ
    if (fqElement.value) {
      fqElement.value.innerHTML = 'â¤ï¸' + day + 'å¤©' + hours + 'å°æ—¶' + min + 'åˆ†' + s + '.' + milliseconds + 'ç§’ğŸ’•';
    }
  }, 98);
}

</script>

<style scoped>
#fq {
  color: rgba(140, 23, 246, 0.58);
}
</style>