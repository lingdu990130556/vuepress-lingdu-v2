import{_ as a,o as e,c as t,f as n,h as l,b as s,d as i}from"./app-ac465cee.js";const o="/vuepress-lingdu-v2/assets/img-b163d6f0.png",c="/vuepress-lingdu-v2/assets/img_2-f3de5a69.png",p="/vuepress-lingdu-v2/assets/img_1-d57d3247.png",r={},d=n("h1",{id:"公共配置文件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#公共配置文件","aria-hidden":"true"},"#"),l(" 公共配置文件")],-1),u=n("div",{class:"hint-container tip"},[n("p",{class:"hint-container-title"},"若依微服务版公共配置的提取")],-1),m=n("details",{class:"hint-container details"},[n("summary",null,"springboot有哪几种配置文件"),n("div",{class:"gpt_html_div"},[n("div",{id:"scrollRef",class:"h-full overflow-hidden overflow-y-auto"},[n("div",{id:"image-wrapper",class:"w-full max-w-screen-xl m-auto dark:bg-[#101014] p-4"},[s("问"),n("div",{class:"flex w-full mb-6 overflow-hidden flex-row-reverse"},[n("div",{class:"flex items-center justify-center flex-shrink-0 h-8 overflow-hidden rounded-full basis-8 ml-2"},[n("span",{class:"n-avatar",style:{"--n-font-size":"14px","--n-border":"none","--n-border-radius":"3px","--n-color":"rgba(204, 204, 204, 1)","--n-color-modal":"rgba(204, 204, 204, 1)","--n-color-popover":"rgba(204, 204, 204, 1)","--n-bezier":"cubic-bezier(0.4, 0, 0.2, 1)","--n-merged-size":"var(--n-avatar-size-override, 34px)"}},[n("img",{loading:"eager",src:"https://lingdu.love/favicon.ico","data-image-src":"https://lingdu.love/favicon.ico"}),s("")])]),n("div",{class:"overflow-hidden text-sm items-end"},[n("p",{class:"text-xs text-[#b4bbc4] text-right"},"2023/10/26 11:08:15"),n("div",{class:"flex items-end gap-1 mt-2 flex-row-reverse"},[n("div",{class:"text-black text-wrap min-w-[20px] rounded-md px-3 py-2 bg-[#d2f9d1] dark:bg-[#a1dc95]"},[n("div",{class:"leading-relaxed break-words"},[n("div",{class:"whitespace-pre-wrap"},"springboot有哪几种配置文件")])]),n("div",{class:"flex flex-col"},[s(""),s(""),n("button",{class:"transition text-neutral-300 hover:text-neutral-800 dark:hover:text-neutral-200"},[n("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ri",width:"1em",height:"1em",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M12 3c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0 14c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Z"})])]),s("")])])])]),s("答"),n("div",{class:"flex w-full mb-6 overflow-hidden"},[n("div",{class:"flex items-center justify-center flex-shrink-0 h-8 overflow-hidden rounded-full basis-8 mr-2"},[n("span",{class:"text-[28px] dark:text-white"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32","aria-hidden":"true",width:"1em",height:"1em"},[n("path",{d:"M29.71,13.09A8.09,8.09,0,0,0,20.34,2.68a8.08,8.08,0,0,0-13.7,2.9A8.08,8.08,0,0,0,2.3,18.9,8,8,0,0,0,3,25.45a8.08,8.08,0,0,0,8.69,3.87,8,8,0,0,0,6,2.68,8.09,8.09,0,0,0,7.7-5.61,8,8,0,0,0,5.33-3.86A8.09,8.09,0,0,0,29.71,13.09Zm-12,16.82a6,6,0,0,1-3.84-1.39l.19-.11,6.37-3.68a1,1,0,0,0,.53-.91v-9l2.69,1.56a.08.08,0,0,1,.05.07v7.44A6,6,0,0,1,17.68,29.91ZM4.8,24.41a6,6,0,0,1-.71-4l.19.11,6.37,3.68a1,1,0,0,0,1,0l7.79-4.49V22.8a.09.09,0,0,1,0,.08L13,26.6A6,6,0,0,1,4.8,24.41ZM3.12,10.53A6,6,0,0,1,6.28,7.9v7.57a1,1,0,0,0,.51.9l7.75,4.47L11.85,22.4a.14.14,0,0,1-.09,0L5.32,18.68a6,6,0,0,1-2.2-8.18Zm22.13,5.14-7.78-4.52L20.16,9.6a.08.08,0,0,1,.09,0l6.44,3.72a6,6,0,0,1-.9,10.81V16.56A1.06,1.06,0,0,0,25.25,15.67Zm2.68-4-.19-.12-6.36-3.7a1,1,0,0,0-1.05,0l-7.78,4.49V9.2a.09.09,0,0,1,0-.09L19,5.4a6,6,0,0,1,8.91,6.21ZM11.08,17.15,8.38,15.6a.14.14,0,0,1-.05-.08V8.1a6,6,0,0,1,9.84-4.61L18,3.6,11.61,7.28a1,1,0,0,0-.53.91ZM12.54,14,16,12l3.47,2v4L16,20l-3.47-2Z",fill:"currentColor"})])])]),n("div",{class:"overflow-hidden text-sm items-start"},[n("p",{class:"text-xs text-[#b4bbc4] text-left"},"2023/10/26 11:08:54"),n("div",{class:"flex items-end gap-1 mt-2 flex-row"},[n("div",{class:"text-black text-wrap min-w-[20px] rounded-md px-3 py-2 bg-[#f4f6f8] dark:bg-[#1e1e20]"},[n("div",{class:"leading-relaxed break-words"},[n("div",{class:"markdown-body"},[n("p",null,"Spring Boot 提供了多种配置文件的方式，常见的有以下几种："),n("ol",null,[n("li",null,[n("p",null,"application.properties：这是最常见的配置文件，使用键值对的形式进行配置。可以在其中设置各种属性，如数据库连接信息、服务器端口等。默认情况下，Spring Boot 会自动加载该文件。")]),n("li",null,[n("p",null,"application.yml：这是 YAML 格式的配置文件，也可以用于配置各种属性。相对于 properties 文件，YAML 文件更加简洁易读，支持层级结构和列表等特性。同样，默认情况下，Spring Boot 会自动加载该文件。")]),n("li",null,[n("p",null,"bootstrap.properties 或 bootstrap.yml：这些配置文件用于在应用程序启动前加载，主要用于外部配置的加载。例如，可以将一些敏感的配置信息放在这里，以便在应用程序启动时加载并覆盖默认配置。")]),n("li",null,[n("p",null,"application-{profile}.properties 或 application-{profile}.yml：这些配置文件是针对不同的环境或配置文件激活的特定配置。通过在文件名中使用激活的配置文件名称，可以根据不同的环境提供不同的配置。例如，可以创建 application-dev.properties 来配置开发环境，application-prod.properties 来配置生产环境。")])]),n("p",null,"需要注意的是，Spring Boot 配置文件的加载顺序是固定的，优先级从高到低依次为：命令行参数 > 外部配置文件 > profile-specific 配置文件 > 默认配置文件。这样可以确保在不同环境下正确加载和覆盖配置。"),n("p",null,"除了以上几种常见的配置文件，Spring Boot 还支持其他一些特殊的配置文件，如 application.xml（XML 格式的配置文件）和 application.groovy（Groovy 脚本格式的配置文件）。但是在实际应用中，较少使用这些特殊的配置文件格式。")])])]),n("div",{class:"flex flex-col"},[n("button",{class:"mb-2 transition text-neutral-300 hover:text-neutral-800 dark:hover:text-neutral-300"},[n("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ri",width:"1em",height:"1em",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795Z"})])]),s(""),n("button",{class:"transition text-neutral-300 hover:text-neutral-800 dark:hover:text-neutral-200"},[n("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ri",width:"1em",height:"1em",viewBox:"0 0 24 24"},[n("path",{fill:"currentColor",d:"M12 3c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0 14c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Z"})])]),s("")])])])])])])])],-1),v=i('<ol><li>在公共模块<code>xxx-common</code>创建<code>xxx-common-config</code>,结构如下图所示：</li></ol><figure><img src="'+o+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li><code>bootstrap.yml</code>示例内容</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>
<span class="token comment"># 注册中西、配置中心 nacos服务地址</span>
<span class="token key atrule">nacos-ip</span><span class="token punctuation">:</span> 192.168.0.237<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment"># 测试局域网</span>
<span class="token comment">#nacos-ip: 10.10.10.10:8848 #内网</span>

<span class="token comment"># 熔断降级服务 控制台地址</span>
<span class="token key atrule">sentinel-path</span><span class="token punctuation">:</span> 192.168.0.230<span class="token punctuation">:</span><span class="token number">8718</span> <span class="token comment"># 测试局域网</span>
<span class="token comment">#sentinel-path: 10.10.10.10:8718 #内网</span>

<span class="token comment"># 运行环境参考字段 涉及到定时任务参数  勿改动</span>
<span class="token comment">#deployed_environment: outer_net_prod       #外网生产环境</span>
<span class="token key atrule">deployed_environment</span><span class="token punctuation">:</span> local_area_network   <span class="token comment">#测试环境</span>
<span class="token comment">#deployed_environment: intranet             #内网生产环境</span>

<span class="token comment"># 定时任务参数 定时任务重要参数     勿动</span>
<span class="token key atrule">org_quartz_scheduler_instanceName</span><span class="token punctuation">:</span> Jsxy_$<span class="token punctuation">{</span>deployed_environment<span class="token punctuation">}</span>

<span class="token comment">#act: prod</span>
<span class="token comment"># jasypt加密秘钥，该秘钥可以自定义</span>
<span class="token key atrule">jasypt</span><span class="token punctuation">:</span>
  <span class="token key atrule">encryptor</span><span class="token punctuation">:</span>
    <span class="token key atrule">password</span><span class="token punctuation">:</span> shujuzhongxinjiamimiyao@12345
    <span class="token key atrule">algorithm</span><span class="token punctuation">:</span> PBEWithMD5AndDES
    <span class="token key atrule">poolSize</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">saltGeneratorClassname</span><span class="token punctuation">:</span> org.jasypt.salt.RandomSaltGenerator
    <span class="token key atrule">stringOutputType</span><span class="token punctuation">:</span> base64
    <span class="token comment">#########重点！！！！！！！！！！！！！！！！！！！！</span>
    <span class="token key atrule">iv-generator-classname</span><span class="token punctuation">:</span> org.jasypt.iv.NoIvGenerator
<span class="token comment">#    默认解密识别是是ENC(..)，如果需要定制不同，可以进行下面配置，如下ENC@[..]</span>
<span class="token comment">#    property:</span>
<span class="token comment">#      prefix: &quot;ENC@[&quot;</span>
<span class="token comment">#      suffix: &quot;]&quot;</span>

<span class="token comment">#spring配置</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token comment"># 环境配置prod dev</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> prod
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment"># 服务注册地址</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>nacos<span class="token punctuation">-</span>ip<span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> JSXY
        <span class="token key atrule">username</span><span class="token punctuation">:</span> nacos
        <span class="token key atrule">password</span><span class="token punctuation">:</span> ENC(Zc7JtYmhgk6fQ2nKOQqCIMHsU796vlsV)
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token comment"># 配置中心地址</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>nacos<span class="token punctuation">-</span>ip<span class="token punctuation">}</span>
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> JSXY
        <span class="token key atrule">username</span><span class="token punctuation">:</span> nacos
        <span class="token key atrule">password</span><span class="token punctuation">:</span> ENC(Zc7JtYmhgk6fQ2nKOQqCIMHsU796vlsV)
        <span class="token comment"># 配置文件格式</span>
        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yml
        <span class="token comment"># 共享配置</span>
        <span class="token key atrule">shared-configs</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> application<span class="token punctuation">-</span>$<span class="token punctuation">{</span>spring.profiles.active<span class="token punctuation">}</span>.$<span class="token punctuation">{</span>spring.cloud.nacos.config.file<span class="token punctuation">-</span>extension<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>各个模块一般都会引入公共模块，这时候这里面的配置就会在各个模块都生效 <img src="`+c+'" alt="" loading="lazy"></li><li>例如其中一个模块<code>bootstrap.yml</code>配置是这样的 <img src="'+p+`" alt="" loading="lazy"><br> bootstrap.yml</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>
<span class="token comment"># Tomcat</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">0</span>

<span class="token comment">#spring配置</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token comment"># 应用名称</span>
<span class="token comment">#    name: xxxx-dimensiondoor</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> xxxx<span class="token punctuation">-</span>dimensiondoor
    <span class="token comment"># 应用路径 与网关配置中path一致 ##扫描系统接口方法中使用到##</span>
    <span class="token key atrule">systemRoute</span><span class="token punctuation">:</span> dimensiondoor
<span class="token comment"># 公共配置在公共模块xxxx-common/xxxx-common-core/src/main/resources/config/bootstrap.yml</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),k=[d,u,m,v];function b(x,g){return e(),t("div",null,k)}const y=a(r,[["render",b],["__file","公共配置文件.html.vue"]]);export{y as default};
