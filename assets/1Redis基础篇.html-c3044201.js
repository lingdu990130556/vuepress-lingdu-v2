import{_ as d,r as i,o as r,c,f as e,h as s,a as n,d as l}from"./app-ac465cee.js";const o={},u=e("h1",{id:"一、redis入门",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#一、redis入门","aria-hidden":"true"},"#"),s(" 一、Redis入门")],-1),m={class:"hint-container tip"},g=e("p",{class:"hint-container-title"},"本文档转载自",-1),h={href:"https://www.oz6.cn/articles/58",target:"_blank",rel:"noopener noreferrer"},p=e("p",null,[e("strong",null,"相关视频")],-1),v=l('<h2 id="_1-认识nosql" tabindex="-1"><a class="header-anchor" href="#_1-认识nosql" aria-hidden="true">#</a> 1.认识NoSQL</h2><h3 id="_1-1什么是nosql" tabindex="-1"><a class="header-anchor" href="#_1-1什么是nosql" aria-hidden="true">#</a> 1.1 什么是NoSQL</h3><hr><ul><li>NoSQL最常见的解释是&quot;<code>non-relational</code>&quot;， 很多人也说它是&quot;<em><strong>Not Only SQL</strong></em>&quot;</li><li>NoSQL仅仅是一个概念，泛指<strong>非关系型的数据库</strong></li><li>区别于关系数据库，它们不保证关系数据的ACID特性</li><li>NoSQL是一项全新的数据库革命性运动，提倡运用非关系型的数据存储，相对于铺天盖地的关系型数据库运用，这一概念无疑是一种全新的思维的注入</li><li>常见的NoSQL数据库有：<code>Redis</code>、<code>MemCache</code>、<code>MongoDB</code>等</li></ul><h3 id="_1-2nosql与sql的差异" tabindex="-1"><a class="header-anchor" href="#_1-2nosql与sql的差异" aria-hidden="true">#</a> 1.2 NoSQL与SQL的差异</h3><hr><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">SQL</th><th style="text-align:center;">NoSQL</th></tr></thead><tbody><tr><td style="text-align:center;">数据结构</td><td style="text-align:center;">结构化</td><td style="text-align:center;">非结构化</td></tr><tr><td style="text-align:center;">数据关联</td><td style="text-align:center;">关联的</td><td style="text-align:center;">无关联的</td></tr><tr><td style="text-align:center;">查询方式</td><td style="text-align:center;">SQL查询</td><td style="text-align:center;">非SQL</td></tr><tr><td style="text-align:center;">事务特性</td><td style="text-align:center;">ACID</td><td style="text-align:center;">BASE</td></tr><tr><td style="text-align:center;">存储方式</td><td style="text-align:center;">磁盘</td><td style="text-align:center;">内存</td></tr><tr><td style="text-align:center;">扩展性</td><td style="text-align:center;">垂直</td><td style="text-align:center;">水平</td></tr><tr><td style="text-align:center;">使用场景</td><td style="text-align:center;">1）数据结构固定<br>2）相关业务对数据安全性、一致性要求较高</td><td style="text-align:center;">1）数据结构不固定<br>2）对一致性、安全性要求不高<br>3）对性能要求</td></tr></tbody></table><h2 id="_2-认识redis" tabindex="-1"><a class="header-anchor" href="#_2-认识redis" aria-hidden="true">#</a> 2.认识Redis</h2><blockquote><p>Redis诞生于2009年全称是Remote Dictionary Server，远程词典服务器，是一个基于内存的键值型NoSQL数据库。</p></blockquote><p><strong>Redis的特征：</strong></p><ul><li>键值（<code>key-value</code>）型，value支持多种不同数据结构，功能丰富</li><li>单线程，每个命令具备原子性</li><li>低延迟，速度快（基于内存、IO多路复用、良好的编码）。</li><li>支持数据持久化</li><li>支持主从集群、分片集群</li><li>支持多语言客户端</li></ul><h2 id="_3-安装redis" tabindex="-1"><a class="header-anchor" href="#_3-安装redis" aria-hidden="true">#</a> 3.安装Redis</h2><h3 id="_3-1前置准备" tabindex="-1"><a class="header-anchor" href="#_3-1前置准备" aria-hidden="true">#</a> 3.1 前置准备</h3><hr><blockquote><p>本次安装Redis是基于Linux系统下安装的，因此需要一台Linux服务器或者虚拟机。</p><p>Ps：由于提供的CentOS操作系统为mini版，因此需要自行配置网络，不会配置的请联系我，如果您使用的是自己购买的服务器，请提前开放<code>6379</code>端口，避免后续出现的莫名其妙的错误！</p></blockquote>',15),b=e("strong",null,"虚拟机",-1),_={href:"https://pan.baidu.com/s/1Zn13h9G7MtSgz-xdkQFeJg?pwd=1234",target:"_blank",rel:"noopener noreferrer"},k=e("strong",null,"操作系统",-1),x={href:"https://pan.baidu.com/s/1SiYip29cYqiNBqjGGV0JgA?pwd=1234",target:"_blank",rel:"noopener noreferrer"},f=e("strong",null,"Redis",-1),y={href:"https://pan.baidu.com/s/1hsoEz1NTCDCCWZmaiZrIgg?pwd=1234",target:"_blank",rel:"noopener noreferrer"},R=e("li",null,[e("p",null,[e("strong",null,"xShell及xFtp"),s("：https://www.xshell.com/zh/free-for-home-school/")])],-1),q=l(`<h3 id="_3-2安装redis依赖" tabindex="-1"><a class="header-anchor" href="#_3-2安装redis依赖" aria-hidden="true">#</a> 3.2 安装Redis依赖</h3><hr><blockquote><p>Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> gcc tcl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>安装成功如下图所示：</strong></p><figure><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/Redis/image-20220524181842626.png" alt="image-20220524181842626" tabindex="0" loading="lazy"><figcaption>image-20220524181842626</figcaption></figure><h3 id="_3-3正式安装redis" tabindex="-1"><a class="header-anchor" href="#_3-3正式安装redis" aria-hidden="true">#</a> 3.3 正式安装Redis</h3><hr><ul><li><strong>将<code>redis-6.2.6.tar</code>上传至<code>/usr/local/src</code>目录</strong></li></ul><figure><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/Redis/image-20220524185659727.png" alt="image-20220524185659727" tabindex="0" loading="lazy"><figcaption>image-20220524185659727</figcaption></figure><ul><li><strong>在xShell中<code>cd</code>到<code>/usr/local/src</code>目录执行以下命令进行解压操作</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-xzf</span> redis-6.2.6.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>解压成功后依次执行以下命令</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> redis-6.2.6
<span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>安装成功后打开/usr/local/bin目录（该目录为Redis默认的安装目录）</strong></li></ul><figure><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/Redis/image-20220524190400547.png" alt="image-20220524190400547" tabindex="0" loading="lazy"><figcaption>image-20220524190400547</figcaption></figure><h2 id="_4-启动redis" tabindex="-1"><a class="header-anchor" href="#_4-启动redis" aria-hidden="true">#</a> 4.启动Redis</h2><blockquote><p>Redis的启动方式有很多种，例如：<strong>前台启动</strong>、<strong>后台启动</strong>、<strong>开机自启</strong></p></blockquote><h3 id="_4-1前台启动-不推荐" tabindex="-1"><a class="header-anchor" href="#_4-1前台启动-不推荐" aria-hidden="true">#</a> 4.1 前台启动（不推荐）</h3><hr><blockquote><p><strong>这种启动属于前台启动，会阻塞整个会话窗口，窗口关闭或者按下<code>CTRL + C</code>则Redis停止。不推荐使用。</strong></p></blockquote><ul><li><strong>安装完成后，在任意目录输入<code>redis-server</code>命令即可启动Redis</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>启动成功如下图所示</strong></li></ul><figure><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/Redis/image-20220524191137983.png" alt="image-20220524191137983" tabindex="0" loading="lazy"><figcaption>image-20220524191137983</figcaption></figure><h3 id="_4-2后台启动-不推荐" tabindex="-1"><a class="header-anchor" href="#_4-2后台启动-不推荐" aria-hidden="true">#</a> 4.2 后台启动（不推荐）</h3><hr><blockquote><p><strong>如果要让Redis以后台方式启动，则必须修改Redis配置文件，配置文件所在目录就是之前我们解压的安装包下</strong></p></blockquote><ul><li><strong>因为我们要修改配置文件，因此我们需要先将原文件备份一份</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/src/redis-6.2.6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> redis.conf redis.conf.bck
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>然后修改<code>redis.conf</code>文件中的一些配置</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0
<span class="token comment"># 守护进程，修改为yes后即可后台运行</span>
daemonize <span class="token function">yes</span> 
<span class="token comment"># 密码，设置后访问Redis必须输入密码</span>
requirepass <span class="token number">1325</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Redis其他常用配置</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 监听的端口</span>
port <span class="token number">6379</span>
<span class="token comment"># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span>
<span class="token function">dir</span> <span class="token builtin class-name">.</span>
<span class="token comment"># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span>
databases <span class="token number">1</span>
<span class="token comment"># 设置redis能够使用的最大内存</span>
maxmemory 512mb
<span class="token comment"># 日志文件，默认为空，不记录日志，可以指定日志文件名</span>
logfile <span class="token string">&quot;redis.log&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>启动Redis</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 进入redis安装目录 </span>
<span class="token builtin class-name">cd</span> /usr/local/src/redis-6.2.6
<span class="token comment"># 启动</span>
redis-server redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>停止Redis服务</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 通过kill命令直接杀死进程</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> redis进程id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span>
<span class="token comment"># 因为之前配置了密码，因此需要通过 -a 来指定密码</span>
redis-cli <span class="token parameter variable">-a</span> <span class="token number">132537</span> <span class="token function">shutdown</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3开机自启-推荐" tabindex="-1"><a class="header-anchor" href="#_4-3开机自启-推荐" aria-hidden="true">#</a> 4.3 开机自启（推荐）</h3><hr><blockquote><p><strong>我们也可以通过配置来实现开机自启</strong></p></blockquote><ul><li><strong>首先，新建一个系统服务文件</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> /etc/systemd/system/redis.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>将以下命令粘贴进去</strong></li></ul><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code>[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>然后重载系统服务</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong>现在，我们可以用下面这组命令来操作redis了</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 启动</span>
systemctl start redis
<span class="token comment"># 停止</span>
systemctl stop redis
<span class="token comment"># 重启</span>
systemctl restart redis
<span class="token comment"># 查看状态</span>
systemctl status redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>执行下面的命令，可以让redis开机自启</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,53);function S(z,L){const a=i("ExternalLinkIcon"),t=i("BiliBili");return r(),c("div",null,[u,e("div",m,[g,e("p",null,[e("a",h,[s("https://www.oz6.cn/articles/58"),n(a)])]),p,n(t,{aid:"766995956",cid:"1237006379",ratio:"16",page:"3",time:"7"})]),v,e("ul",null,[e("li",null,[e("p",null,[b,s("："),e("a",_,[s("VMware16"),n(a)])])]),e("li",null,[e("p",null,[k,s("："),e("a",x,[s("CentOS-7-x86_64-Minimal-1708"),n(a)])])]),e("li",null,[e("p",null,[f,s("："),e("a",y,[s("redis-6.2.6.tar"),n(a)])])]),R]),q])}const N=d(o,[["render",S],["__file","1Redis基础篇.html.vue"]]);export{N as default};
