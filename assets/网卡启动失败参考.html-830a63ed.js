import{_ as n,o as s,c as a,d as e}from"./app-ac465cee.js";const t="/vuepress-lingdu-v2/assets/img-af169dc7.png",o={},c=e('<h1 id="网卡启动失败参考" tabindex="-1"><a class="header-anchor" href="#网卡启动失败参考" aria-hidden="true">#</a> 网卡启动失败参考</h1><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h2><div class="hint-container tip"><p class="hint-container-title">问题发生在将虚拟机关机后再开机网卡未能正常启动的场景下</p></div><figure><img src="'+t+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>①重启/启动网卡失败</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ①重启/启动网卡失败👇</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># service network start</span>
Starting network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:  Job <span class="token keyword">for</span> network.service failed because the control process exited with error code. See <span class="token string">&quot;systemctl status network.service&quot;</span> and <span class="token string">&quot;journalctl -xe&quot;</span> <span class="token keyword">for</span> details.
                                                           <span class="token punctuation">[</span>FAILED<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>②使用systemctl status network.service命令查看错误详情。</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ②使用systemctl status network.service命令查看错误详情。</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># systemctl status network.service</span>
● network.service - LSB: Bring up/down networking
   Loaded: loaded <span class="token punctuation">(</span>/etc/rc.d/init.d/network<span class="token punctuation">;</span> bad<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: failed <span class="token punctuation">(</span>Result: exit-code<span class="token punctuation">)</span> since Thu <span class="token number">2022</span>-07-21 <span class="token number">16</span>:36:44 CST<span class="token punctuation">;</span> 1min 33s ago
     Docs: man:systemd-sysv-generator<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
  Process: <span class="token number">3755</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/etc/rc.d/init.d/network start <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>/FAILURE<span class="token punctuation">)</span>

Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain network<span class="token punctuation">[</span><span class="token number">3755</span><span class="token punctuation">]</span>: RTNETLINK answers: File exists
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: network.service: control process exited, <span class="token assign-left variable">code</span><span class="token operator">=</span>exited <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Failed to start LSB: Bring up/down networking.
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Unit network.service entered failed state.
Jul <span class="token number">21</span> <span class="token number">16</span>:36:44 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: network.service failed.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>③出现这种报错一般是和 NetworkManager 服务冲突导致的，直接关闭 NetworkManger 服务就好了， service NetworkManager stop</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ③出现这种报错一般是和 NetworkManager 服务冲突导致的，直接关闭 NetworkManger 服务就好了， service NetworkManager stop</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># service NetworkManager stop</span>
Redirecting to /bin/systemctl stop NetworkManager.service
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>④禁止开机启动 systemctl disable NetworkManager</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ④禁止开机启动 systemctl disable NetworkManager</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># systemctl disable NetworkManager</span>
Removed symlink /etc/systemd/system/multi-user.target.wants/NetworkManager.service.
Removed symlink /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service.
Removed symlink /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service.
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>⑤再次重启网卡,启动成功</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ⑤再次重启网卡,启动成功</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># service network restart</span>
Restarting network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:                        <span class="token punctuation">[</span>  OK  <span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),l=[c];function i(p,r){return s(),a("div",null,l)}const d=n(o,[["render",i],["__file","网卡启动失败参考.html.vue"]]);export{d as default};
